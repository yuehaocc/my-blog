# 深入浅出 Vite

## 1 开篇 ：让 Vite 助力你的前端工程化之路

### 前端构建工具现况
- 远古时代：browserify、grunt
- 传统：Webpack、Rollup、Parcel
- 现代：Esbuild、Vite

### 前端工程痛点
- 前端模块化
- 浏览器兼容，编译高级语法
    - TS、JSX
- 线上代码质量（？没太懂）
- 开发效率
    - 热更新等

### 为什么 Vite 是当前最高效的构建工具？

#### 开发效率
传统构建工具普遍的缺点就是太慢了，与之相比，Vite 能将项目的启动性能提升一个量级，并且达到毫秒级的瞬间热更新效果。

就拿 Webpack 来说，我在工作中发现，一般的项目使用 Webpack 之后，启动花个几分钟都是很常见的事情，热更新也经常需要等待十秒以上。这主要是因为：

项目冷启动时必须递归打包整个项目的依赖树
JavaScript 语言本身的性能限制，导致构建性能遇到瓶颈，直接影响开发效率
这样一来，代码改动后不能立马看到效果，自然开发体验也越来越差。而其中，最占用时间的就是代码打包和文件编译。

而 Vite 很好地解决了这些问题。一方面，Vite 在开发阶段基于浏览器原生 ESM 的支持实现了no-bundle服务，另一方面借助 Esbuild 超快的编译速度来做第三方库构建和 TS/JSX 语法编译，从而能够有效提高开发效率。

除了开发效率，在其他三个维度上， Vite 也表现不俗。

模块化方面，Vite 基于浏览器原生 ESM 的支持实现模块加载，并且无论是开发环境还是生产环境，都可以将其他格式的产物(如 CommonJS)转换为 ESM。

语法转译方面，Vite 内置了对 TypeScript、JSX、Sass 等高级语法的支持，也能够加载各种各样的静态资源，如图片、Worker 等等。

产物质量方面，Vite 基于成熟的打包工具 Rollup 实现生产环境打包，同时可以配合Terser、Babel等工具链，可以极大程度保证构建产物的质量。
